javascript:((()=>{let s=document.createElement,o=[],a,p,i,l,c,d,m,u,b,g,v,y,h,x,w,S,f,k,M,I,q,t=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"playbackRate"),L=(Object.defineProperty(HTMLMediaElement.prototype,"playbackRate",{set(e){this.parentElement?.className.toLowerCase().includes("canvas")?t.set.call(this,1):"sps"!==e.source?(console.info("sps⚠️ prevented unintended playback speed change"),t.set.call(this,Number(c.value))):t.set.call(this,e.value)}}),document.createElement=function(e){var t=s.apply(this,arguments);return"video"!==e&&"audio"!==e||o.push(t),t},()=>{let t=Number(c.value);var e=h.value,s=x.value;let n=a.checked;q.innerHTML=t.toFixed(2)+"x",c.style.backgroundSize=100*(t-e)/(s-e)+"% 100%",n?(p.classList.add("sps-icon-active"),p.classList.remove("sps-hover-white"),i.style.display="none",l.style.display="block"):(p.classList.remove("sps-icon-active"),p.classList.add("sps-hover-white"),i.style.display="block",l.style.display="none"),localStorage.setItem("sps-speed",t),localStorage.setItem("sps-pp",n),localStorage.setItem("sps-speed-min",e),localStorage.setItem("sps-speed-max",s),o.forEach(e=>{e.playbackRate={source:"sps",value:t},e.preservesPitch=n})}),e=!1,n=!1,E=()=>{(e=!e)?(k.style.display="none",M.style.display="block"):(k.style.display="block",M.style.display="none")},N=()=>{(n=!n)?f.style.display="block":f.style.display="none",document.querySelector("#sps-icon").classList.toggle("sps-icon-active"),e&&E()},T=()=>{h.value=.5,x.value=2},z=()=>{c.min="0"!==h.value&&h.value?h.value:"0.5",c.max="0"!==x.value&&x.value?x.value:"2",localStorage.setItem("sps-speed-min",h.value),localStorage.setItem("sps-speed-max",x.value),d.innerHTML=+Number(h.value)+"x",m.innerHTML=+Number(x.value)+"x",L(),E()},r=0,C=()=>{var e,t,s,n;t=localStorage.getItem("pb-settings-speed"),e=localStorage.getItem("pb-settings-prepitch"),t&&(localStorage.setItem("sps-speed",Number(t)/100),localStorage.removeItem("pb-settings-speed")),e&&(localStorage.setItem("sps-pp",e),localStorage.removeItem("pb-settings-prepitch")),(t=document.createElement("style")).textContent="#sps{user-select:none;border-width:0 !important;border-style:solid !important;border-color:#e5e7eb}.sps-common{display:flex;flex-wrap:nowrap;align-items:center;height:32px}.sps-header{color:#f0f0f0;font-weight:600;line-height:1}#sps-main{border:1px solid #282828;border-right:0;bottom:88px;right:0;position:absolute}#sps-icon{display:flex;flex-wrap:wrap;justify-content:center;width:2rem;height:2rem}#sps-controls{padding:.5rem .75rem;background-color:#171717;width:320px}#sps-settings{width:240px;padding:.5rem .75rem;background-color:#171717}#sps-settings input{margin-left:.5rem;width:56px;border-radius:.125rem;padding-left:.125rem;padding-right:.125rem;text-align:center;font-size:.875rem}.sps-text-button:hover{background-color:#9B9B9B;cursor:pointer}#sps button:hover{cursor:pointer}#sps button,#sps input{border-width:0 !important;border-style:solid !important;border-color:#e5e7eb}#sps button:disabled{cursor:not-allowed}#sps input[type=number]::-webkit-outer-spin-button,#sps input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}#sps input[type=number]:focus{outline:0}#sps input[type=range]{-webkit-appearance:none;width:100%;height:6px;background:#494949;border-radius:.375rem;background-image:linear-gradient(#fff,#fff);background-size:70% 100%;background-repeat:no-repeat}#sps input[type=range]:hover{background-image:linear-gradient(#2edb64,#2edb64)}#sps input[type=range]::-webkit-slider-thumb{-webkit-appearance:none}#sps input[type=range]::-webkit-slider-runnable-track{width:calc(100% + 16px);height:6px;padding:8px 0;background:transparent}#sps input[type=range]:hover::-webkit-slider-runnable-track{cursor:ew-resize}#sps input[type=range]:hover::-webkit-slider-thumb{display:block;cursor:ew-resize}#sps input[type=range]::-webkit-slider-thumb{display:none;-webkit-appearance:none;border-radius:50%;height:14px;width:14px;background:white;box-shadow:0 4px 6px -1px rgb(0 0 0 / .1),0 2px 4px -2px rgb(0 0 0 / .1);margin-top:-7px}.sps-icon-active,.sps-icon-active:hover{color:#2edb64!important}.sps-hover-white:hover{color:#FFF}.sps-text-button{background-color:#535353;color:white;font-weight:600;font-size:.625rem;padding:.125rem .25rem;border-radius:.125rem}",document.head.append(t);try{r+=1,console.log("sps➕"),(()=>{if(null===document.querySelector("#main"))throw"Main container element not found"})(),(s=document.querySelector("#sps"))&&s.remove(),(k=document.createElement("div")).id="sps-controls",k.style.display="block",k.innerHTML='<div class="sps-common"><span class="sps-header">Playback Speed</span><div style="flex-grow: 1;"></div><button id="sps-settings-btn" class="sps-text-button">SETTINGS</button></div><div class="sps-common"><span id="sps-speed-min" style="line-height: 32px;">0.5x</span><input id="sps-input-slider" name="sps-slider" type="range" min="0.5" max="2" step="0.01" style="margin: 0px 0.75rem; background-size: 33.3333% 100%;"><span id="sps-speed-max" style="line-height: 32px;">2x</span></div><div class="sps-common"><button id="sps-pp" class="sps-icon-active" style="font-size: 16px; background-color: transparent; display: flex; flex-wrap: nowrap; align-items: center; user-select: none;"><input name="sps-pp" type="checkbox" style="display: none"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1.27rem" height="1.125rem" preserveAspectRatio="xMidYMid meet" viewBox="0 0 576 512"><path class="pp-off" fill="currentColor" d="M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128c70.741 0 128 57.249 128 128c0 70.741-57.249 128-128 128c-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128c0 70.74-57.249 128-128 128z" style="display: none" /><path class="pp-on" fill="currentColor" d="M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128c0-70.8 57.3-128 128-128c70.8 0 128 57.3 128 128c0 70.8-57.3 128-128 128z" style="display: none" /></svg><span style="margin-left: 0.5rem; line-height: 1;">Preserve Pitch</span></button><div style="flex-grow: 1;"></div><button id="sps-reset-btn" class="sps-text-button">1x</button></div>',(M=document.createElement("div")).id="sps-settings",M.style.display="none",M.innerHTML='<div class="sps-common"><span class="sps-header">Settings</span><div style="flex-grow: 1;"></div><button id="sps-settings-close-btn" class="sps-text-button">CLOSE</button></div><div style="display: flex; flex-wrap: wrap; width: 98px;"><label class="sps-common" style="width: 100%">Min:<div style="flex-grow: 1;"></div><input type="number" name="sps-min" min="0.07" max="15.999" step="0.1"></label><label class="sps-common" style="width: 100%">Max:<div style="flex-grow: 1;"></div><input type="number" name="sps-max" min="1" max="16" step="0.1"></label></div><div class="sps-common"><div style="flex-grow: 1;"></div><button id="sps-minmax-reset" class="sps-text-button">RESET</button><button id="sps-minmax-save" class="sps-text-button" style="margin-left: 0.5rem;">SAVE</button></div>',(f=document.createElement("div")).id="sps-main",f.style.display="none",f.appendChild(k),f.appendChild(M),(s=document.createElement("div")).id="sps-icon",s.setAttribute("class","sps-hover-white"),s.innerHTML='<svg preserveAspectRatio="xMidYMid meet" width="2rem" height="2rem" viewBox="0 0 24 24" fill="currentColor" style="padding: 0.375rem;"><path d="M13 2.05v2c4.39.54 7.5 4.53 6.96 8.92c-.46 3.64-3.32 6.53-6.96 6.96v2c5.5-.55 9.5-5.43 8.95-10.93c-.45-4.75-4.22-8.5-8.95-8.97v.02M5.67 19.74A9.994 9.994 0 0 0 11 22v-2a8.002 8.002 0 0 1-3.9-1.63l-1.43 1.37m1.43-14c1.12-.9 2.47-1.48 3.9-1.68v-2c-1.95.19-3.81.94-5.33 2.2L7.1 5.74M5.69 7.1L4.26 5.67A9.885 9.885 0 0 0 2.05 11h2c.19-1.42.75-2.77 1.64-3.9M4.06 13h-2c.2 1.96.97 3.81 2.21 5.33l1.42-1.43A8.002 8.002 0 0 1 4.06 13M10 16.5l6-4.5l-6-4.5v9z" fill="currentColor"></path></svg><span id="sps-icon-text" style="margin-top: -0.125rem; font-size: 0.6875rem;">1.00x</span>',(n=document.createElement("div")).id="sps",n.appendChild(f),n.appendChild(s),(s=(s=document.querySelector('button[aria-describedby="volume-icon"]')).parentNode.parentNode).insertBefore(n,s.firstChild),(()=>{a=document.querySelector('input[name="sps-pp"]'),p=document.querySelector("button#sps-pp"),i=document.querySelector("path.pp-off"),l=document.querySelector("path.pp-on"),c=document.querySelector('input[name="sps-slider"]'),d=document.querySelector("span#sps-speed-min"),m=document.querySelector("span#sps-speed-max"),u=document.querySelector("button#sps-reset-btn"),b=document.querySelector("#sps-settings-btn"),g=document.querySelector("#sps-settings-close-btn"),h=document.querySelector('input[name="sps-min"]'),x=document.querySelector('input[name="sps-max"]'),w=document.querySelector("button#sps-minmax-reset"),S=document.querySelector("button#sps-minmax-save"),f=document.querySelector("#sps-main"),k=document.querySelector("#sps-controls"),M=document.querySelector("#sps-settings"),I=document.querySelector("#sps-icon"),q=document.querySelector("#sps-icon-text");let e=1,t=!0,s=.5,n=2;var o;localStorage.getItem("sps-speed")&&(e=Number(localStorage.getItem("sps-speed")??e),t=localStorage.getItem("sps-pp")?JSON.parse(localStorage.getItem("sps-pp")):t,o=Number(localStorage.getItem("sps-speed-min")),s=o&&0!==o?o:s,o=Number(localStorage.getItem("sps-speed-max")),n=o&&0!==o?o:n),v=s,y=n,a.checked=t,c.value=e,c.min=s,c.max=n,h.value=s,x.value=n,d.innerHTML=s+"x",m.innerHTML=n+"x",c.oninput=L,a.oninput=L,h.onchange=e=>{let t=Number(e.target.value);t>=y&&(t=y-.01,e.target.value=t),v=t},x.onchange=e=>{let t=Number(e.target.value);t<v&&(t=v+.01,e.target.value=t),y=t},w.onclick=T,S.onclick=z,u.onclick=()=>{c.max<1&&(c.max=1,x.value=1,localStorage.setItem("sps-speed-max",x.value),m.innerHTML=+Number(x.value)+"x"),1<c.min&&(c.min=1,h.value=1,localStorage.setItem("sps-speed-min",h.value),d.innerHTML=+Number(h.value)+"x"),c.value=1,L()},I.onclick=N,b.onclick=E,g.onclick=()=>{h.value=c.min,x.value=c.max,E()},p.onclick=()=>{a.checked=!a.checked,L()},L();let r=()=>{var e=document.getElementById("Desktop_PanelContainer_Id"),t=document.getElementById("sps-main");t&&(e?(e=e.offsetWidth,t.style.right=e+16+"px"):t.style.right="")};r(),new MutationObserver(()=>{r()}).observe(document.body,{childList:!0,subtree:!0})})(),console.log("sps✅")}catch(e){console.log("sps🔄 "+e),r<=20?setTimeout(C,500):console.log("sps❌")}};C()})());